<div *ngIf="otherUserExists === true">
  <h1>Conversation with <app-avatar [username]="otherUser.username"></app-avatar> {{otherUser.username}}</h1>

  <ul>
    <li *ngFor="let msg of messages"
      class="message"
      [ngClass]="(msg.to.username === otherUser.username)
        ? 'sent'
        : (!msg.read)
        ? 'unread'
        : 'read'">
      <app-avatar class="message-from" [username]="msg.from.username"></app-avatar>
      <div class="message-created">{{ msg.created | amTimeAgo }}</div>
      <div class="message-body">
        <span Markdown>{{ msg.body }}</span>
      </div>
    </li>
  </ul>

  <app-message-form [receiver]="otherUser" (onMessageSent)="onNewMessage($event)">
  </app-message-form>
</div>

<div *ngIf="otherUserExists === false">
  <app-fof message="user {{otherUser.username}} doesn't exist"></app-fof>
</div>
