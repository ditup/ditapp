<app-fof *ngIf="!(user$ | async)" message="user doesn't exist"></app-fof>

<section *ngIf="(user$ | async)" class="user-profile">

  <section class="user-info">

    <app-avatar [user]="(user$ | async)" [size]="128" class="user-avatar"></app-avatar>

    <section class="user-names-container">
      <span class="user-name">{{(user$ | async).givenName}} {{(user$ | async).familyName}}</span>
      <span class="user-username">{{(user$ | async).id}}</span>
    </section>

    <a routerLink="/user/test7">test7</a>
    <a routerLink="/user/mrkvon">mrkvon</a>
    <a routerLink="/user/yanka">yanka</a>
    <!--span class="fill-remaining-space"></span>

    <nav class="user-links-container">
      <!-- edit profile -- >
      <a class="link-button" *ngIf="isMe === true" routerLink="/profile/edit">Edit Profile</a>
      <!-- messages -- >
      <a class="link-button" *ngIf="isMe === false" routerLink="/messages/{{(user$ | async).id}}">Messages</a>


      <!-- contact link  -- >
      <span *ngIf="isMe === false">

        <a class="link-button"
          [ngSwitch]="contactStatus"
          routerLink="/contact-with/{{(user$ | async).id}}">
          <!-- nonexistent -- >
          <span *ngSwitchCase="'nonexistent'">Send a contact request</span>
          <!-- confirmed -- >
          <span *ngSwitchCase="'confirmed'">Update contact</span>
          <!-- unconfirmed, sent -- >
          <span *ngSwitchCase="'sent'">Update contact request</span>
          <!-- unconfirmed, received -- >
          <span *ngSwitchCase="'received'">Accept or Decline contact request</span>
          <!-- loading -- >
          <span *ngSwitchDefault>Loading contact...</span>
        </a>
      </span>
    </nav-->
  </section>

  <section class="user-detail">

    <app-tab-nav
      [navRoutes]="[
      { title: 'Profile', link: '/user/' + (user$ | async)?.id },
        { title: 'Contacts', link: '/user/' + (user$ | async)?.id + '/contacts' }
      ]"></app-tab-nav>

    <router-outlet></router-outlet>

  </section>
</section>
